/* SPDX-License-Identifier: GPL-2.0 */
#ifndef BME688_H_
#define BME688_H_

#define BME688_REG_CHIP_ID			0xD0
#define   BME688_CHIP_ID_VAL			0x61
#define BME688_REG_SOFT_RESET			0xE0
#define   BME688_CMD_SOFTRESET			0xB6
#define BME688_REG_STATUS			0x73
#define   BME688_SPI_MEM_PAGE_BIT		BIT(4)
#define     BME688_SPI_MEM_PAGE_1_VAL		1

#define BME688_REG_TEMP_MSB			0x22
#define BME688_REG_PRESS_MSB			0x1F
#define BM6880_REG_HUMIDITY_MSB			0x25
#define BME688_REG_GAS_MSB			0x2A
#define BME688_REG_GAS_R_LSB			0x2B
#define   BME688_GAS_STAB_BIT			BIT(4)
#define   BME688_GAS_RANGE_MASK			GENMASK(3, 0)

#define BME688_REG_CTRL_HUMIDITY		0x72
#define   BME688_OSRS_HUMIDITY_MASK		GENMASK(2, 0)

#define BME688_REG_CTRL_MEAS			0x74
#define   BME688_OSRS_TEMP_MASK			GENMASK(7, 5)
#define   BME688_OSRS_PRESS_MASK		GENMASK(4, 2)
#define   BME688_MODE_MASK			GENMASK(1, 0)
#define     BME688_MODE_FORCED			1
#define     BME688_MODE_SLEEP			0

#define BME688_REG_CONFIG			0x75
#define   BME688_FILTER_MASK			GENMASK(4, 2)
#define     BME688_FILTER_COEFF_VAL		BIT(1)

/* TEMP/PRESS/HUMID reading skipped */
#define BME688_MEAS_SKIPPED			0x8000

#define BME688_MAX_OVERFLOW_VAL			0x40000000
#define BME688_HUM_REG_SHIFT_VAL		4
#define BME688_BIT_H1_DATA_MASK			GENMASK(3, 0)

#define BME688_REG_RES_HEAT_RANGE		0x02
#define   BME688_RHRANGE_MASK			GENMASK(5, 4)
#define BME688_REG_RES_HEAT_VAL			0x00
#define BME688_REG_RANGE_SW_ERR			0x04
#define   BME688_RSERROR_MASK			GENMASK(7, 4)
#define BME688_REG_RES_HEAT_0			0x5A
#define BME688_REG_GAS_WAIT_0			0x64
#define BME688_ADC_GAS_RES_SHIFT		6
#define BME688_AMB_TEMP				25

#define BME688_REG_CTRL_GAS_1			0x71
#define   BME688_RUN_GAS_MASK			BIT(4)
#define   BME688_NB_CONV_MASK			GENMASK(3, 0)

#define BME688_REG_MEAS_STAT_0			0x1D
#define   BME688_GAS_MEAS_BIT			BIT(6)

/* Calibration Parameters */
#define BME688_T2_LSB_REG	0x8A
#define BME688_T3_REG		0x8C
#define BME688_P1_LSB_REG	0x8E
#define BME688_P2_LSB_REG	0x90
#define BME688_P3_REG		0x92
#define BME688_P4_LSB_REG	0x94
#define BME688_P5_LSB_REG	0x96
#define BME688_P7_REG		0x98
#define BME688_P6_REG		0x99
#define BME688_P8_LSB_REG	0x9C
#define BME688_P9_LSB_REG	0x9E
#define BME688_P10_REG		0xA0
#define BME688_H2_LSB_REG	0xE2
#define BME688_H2_MSB_REG	0xE1
#define BME688_H1_MSB_REG	0xE3
#define BME688_H1_LSB_REG	0xE2
#define BME688_H3_REG		0xE4
#define BME688_H4_REG		0xE5
#define BME688_H5_REG		0xE6
#define BME688_H6_REG		0xE7
#define BME688_H7_REG		0xE8
#define BME688_T1_LSB_REG	0xE9
#define BME688_GH2_LSB_REG	0xEB
#define BME688_GH1_REG		0xED
#define BME688_GH3_REG		0xEE

extern const struct regmap_config bme688_regmap_config;

int bme688_core_probe(struct device *dev, struct regmap *regmap,
		      const char *name);

#endif  /* BME688_H_ */
